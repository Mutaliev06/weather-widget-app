(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{32:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),s=n(20),a=n.n(s),r=(n(32),n(9)),j=n(3),l=n(1),o=Object(c.createContext)(),b=function(e){var t=e.children,n=Object(c.useState)((function(){return JSON.parse(localStorage.getItem("cityStore"))||[]})),i=Object(j.a)(n,2),s=i[0],a=i[1],b=Object(c.useState)(!0),d=Object(j.a)(b,2),u=(d[0],d[1]);return Object(c.useEffect)((function(){u(!0),0===s.length?navigator.geolocation.getCurrentPosition((function(e){try{fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.coords.latitude,"&lon=").concat(e.coords.longitude,"&appid=7611703e1032af42b08107f48e55e71d")).then((function(e){return e.json()})).then((function(e){a([].concat(Object(r.a)(s),[{id:s.length,name:e.name}])),u(!1)}))}catch(t){console.log(t.message)}})):u(!1)}),[]),Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("cityStore"));e&&a(e)}),[a]),Object(c.useEffect)((function(){localStorage.setItem("cityStore",JSON.stringify(s))}),[s,a]),Object(l.jsx)(o.Provider,{value:[s,a],children:t})},d=n(22),u=n(21),O=function(e){var t=e.setOpen,n=e.open;return Object(l.jsx)("div",{className:"header",children:n?Object(l.jsx)(u.a,{onClick:function(){return t(!1)}}):Object(l.jsx)(d.a,{onClick:function(){return t(!0)}})})},f=n(6),h=n(11),x=n.n(h),m=n(23),p=n(8),_=n(25),v=function(){return Object(l.jsxs)("div",{className:"lds-facebook",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})},g=n(24),N=n.n(g),S=function(e){var t=e.item,n=(e.setOpen,Object(c.useState)([])),i=Object(j.a)(n,2),s=i[0],a=i[1],r=Object(c.useState)(!1),o=Object(j.a)(r,2),b=o[0],d=o[1],u=s.main&&Math.floor(s.main.temp-273.15),O=s.main&&s.main.humidity,f=Math.log10(O)+7.5*u/(235+u)-2,h=(235*f/(7.5-f)).toFixed(0),g=Object(c.useState)(""),S=Object(j.a)(g,2),w=S[0],y=S[1],E=Object(c.useState)(""),k=Object(j.a)(E,2),C=k[0],W=k[1],D=s.wind&&(5*s.wind.speed/18*10).toFixed(1),F=s.wind&&s.wind.deg;return Object(c.useEffect)((function(){d(!0),function(){var e=Object(m.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(t.name,"&appid=7611703e1032af42b08107f48e55e71d"));case 2:n=e.sent,a(n.data),d(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a]),Object(c.useEffect)((function(){if(D<1.6)y("Light air.");else if(D>1.6&&D<=3.3)y("Light breeze.");else{if(D>3.3&&D<=5.4)return y("Gentle breeze.");D>8&&D<=10.7&&y("Fresh breeze.")}}),[s]),Object(c.useEffect)((function(){if(0===F&&F<=11.25&&F>348.75)W("N");else if(F>11.25&&F<=33.75)W("NNE");else if(F>33.75&&F<=56.25)W("NE");else{if(F>56.25&&F<=78.75)return W("ENE");if(F>78.75&&F<=101.25)W("E");else if(F>101.25&&F<=123.75)W("ESE");else{if(F>123.75&&F<=146.25)return W("SE");if(F>146.25&&F<=168.75)W("SSE");else if(F>168.75&&F<=191.25)W("S");else if(F>191.25&&F<=213.75)W("SSW");else{if(F>213.75&&F<=236.25)return W("SW");if(F>236.25&&F<=258.75)W("WSW");else if(F>258.75&&F<=281.25)W("W");else if(F>281.25&&F<=303.75)W("WNW");else{if(F>303.75&&F<=326.25)return W("NW");F>326.25&&F<=348.75&&W("NNW")}}}}}),[s]),Object(l.jsx)("div",{className:"content",children:b?Object(l.jsx)(v,{}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"content__title",children:Object(l.jsxs)("h2",{children:[s.name,", ",s.sys&&s.sys.country]})}),Object(l.jsxs)("div",{className:"content__body",children:[Object(l.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(s.weather&&s.weather[0].icon,".png"),alt:"icon"}),Object(l.jsxs)("h1",{children:[u," \xb0\u0421"]})]}),Object(l.jsxs)("div",{className:"content__info",children:[Object(l.jsx)("div",{className:"content__info__title",children:Object(l.jsxs)("span",{children:["Feels like"," ",s.main&&Math.floor(s.main.feels_like-273.15)," ","\xb0\u0421.\xa0",s.weather&&s.weather[0].description[0].toUpperCase()+s.weather[0].description.slice(1),".\xa0",Object(l.jsx)("span",{children:w})]})}),Object(l.jsxs)("div",{className:"content__info__subtitle",children:[Object(l.jsxs)("div",{className:"subtitle__speed",children:[Object(l.jsx)(p.b,{}),Object(l.jsxs)("span",{children:[D," m/s ",C]})]}),Object(l.jsxs)("div",{className:"subtitle__therm",children:[Object(l.jsx)(_.a,{}),Object(l.jsxs)("span",{children:[s.main&&s.main.pressure," hPa"]})]}),Object(l.jsxs)("div",{className:"subtitle__humidity",children:["Humidity: ",Object(l.jsxs)("span",{children:[O," %"]})," "]}),Object(l.jsxs)("div",{className:"subtitle__dew",children:["Dew point: ",h," \xb0\u0421"]}),Object(l.jsxs)("div",{className:"subtitle__visibility",children:["Visibility: ",(.001*s.visibility).toFixed(1),"km"]})]})]})]})})},w=n(26),y=n(27),E=function(e){var t=e.setOpen,n=e.open,i=Object(c.useContext)(o),s=Object(j.a)(i,2),a=s[0],b=s[1],d=Object(c.useState)(""),u=Object(j.a)(d,2),O=u[0],h=u[1],x=Object(c.useState)(null),m=Object(j.a)(x,2),_=m[0],v=m[1];return Object(l.jsx)("div",{className:"settings",children:n?Object(l.jsxs)("div",{className:"settings__box",children:[Object(l.jsx)("div",{className:"settings__box__title",children:Object(l.jsx)("h3",{children:"Settings"})}),Object(l.jsx)("ul",{className:"settings__box__ul",children:a.sort((function(e,t){return e.id>t.id?1:-1})).map((function(e,t){return Object(l.jsxs)("li",{onDragStart:function(t){v(e)},onDragEnd:function(e){},onDragLeave:function(e){},onDragOver:function(e){return function(e){e.preventDefault()}(e)},onDrop:function(t){return function(e,t){e.preventDefault(),b(a.map((function(e){return e.id===t.id?Object(f.a)(Object(f.a)({},e),{},{id:_.id}):e.id===_.id?Object(f.a)(Object(f.a)({},e),{},{id:t.id}):e})))}(t,e)},draggable:"true",className:"settings__box__li",children:[Object(l.jsxs)("div",{className:"item__burg",children:[Object(l.jsx)("div",{children:Object(l.jsx)(w.a,{})}),Object(l.jsx)("div",{children:e.name})]}),Object(l.jsx)("div",{className:"settings__box__delete",children:Object(l.jsx)(p.a,{onClick:function(){return function(e){var t=a.filter((function(t){return t!==e}));b(t)}(e)}})})]},t)}))}),Object(l.jsxs)("div",{className:"settings__box__input",children:[Object(l.jsx)("div",{className:"input__label",children:Object(l.jsx)("label",{htmlFor:"",children:"Add Location:"})}),Object(l.jsxs)("div",{className:"input__text",children:[Object(l.jsx)("input",{type:"text",value:O,onChange:function(e){return h(e.target.value)}}),Object(l.jsx)("button",{type:"sumbit",children:Object(l.jsx)(y.a,{onClick:function(){b([].concat(Object(r.a)(a),[{id:a.length,name:O}])),h("")}})})]})]})]}):a.map((function(e){return Object(l.jsx)(S,{item:e,setOpen:t})}))})},k=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],i=t[1];return Object(l.jsxs)("div",{className:"weather",children:[Object(l.jsx)(O,{setOpen:i,open:n}),Object(l.jsx)(E,{setOpen:i,open:n})]})};var C=function(){return Object(l.jsx)(b,{children:Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(k,{})})})};a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.querySelector("weather-widget"))}},[[53,1,2]]]);
//# sourceMappingURL=main.54763c8c.chunk.js.map